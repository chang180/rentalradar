{
  "task": "DEV-20 進階 AI 模型整合開發 - 下一步指示",
  "description": "Codex 已完成 75% 進度，測試全部通過，需要完成剩餘 25%",
  "current_progress": "75%",
  "completed_tasks": [
    "✅ 修復 API 路由與控制器方法名稱對齊",
    "✅ 在 MapController.php 添加舊版別名以保持向後相容",
    "✅ 增強 AdvancedPricePredictor 信心度百分位數和標準差",
    "✅ 重寫 AdvancedPricePredictionTest 使用正確的 API 方法",
    "✅ 所有 7 個測試規格通過",
    "✅ 同步 PROGRESS.md 時間戳記"
  ],
  "next_steps": [
    {
      "priority": "high",
      "task": "建立 /api/map/optimized-data 的輕量級合約測試",
      "description": "當聚合數量超過閾值時測試替代負載",
      "estimated_time": "15 minutes",
      "files_to_modify": [
        "tests/Feature/AdvancedPricePredictionTest.php"
      ]
    },
    {
      "priority": "medium", 
      "task": "建立跨語言 (PHP/JS) 模型輸出驗證與測試基準",
      "description": "確保前後端模型輸出一致性",
      "estimated_time": "20 minutes",
      "files_to_modify": [
        "tests/Feature/ModelConsistencyTest.php (新建)",
        "resources/js/algorithms/ClusteringAlgorithm.js"
      ]
    },
    {
      "priority": "medium",
      "task": "擴充效能監控指標",
      "description": "追蹤模型推論延遲與資源使用",
      "estimated_time": "15 minutes", 
      "files_to_modify": [
        "app/Support/PerformanceMonitor.php",
        "app/Http/Controllers/MapController.php"
      ]
    },
    {
      "priority": "low",
      "task": "規劃 Hostinger 共享環境下的模型部署流程",
      "description": "確保在 Hostinger 限制下的模型部署",
      "estimated_time": "10 minutes",
      "files_to_modify": [
        "docs/deployment/hostinger-model-deployment.md (新建)"
      ]
    }
  ],
  "expected_outcome": "DEV-20 達到 100% 完成度，所有功能測試通過，效能監控完善",
  "completion_criteria": [
    "所有 API 端點測試通過",
    "跨語言模型輸出一致性驗證",
    "效能監控指標完整",
    "Hostinger 部署文檔完成"
  ]
}
