# 租屋雷達 - 開發計畫書

## 📋 專案概述

### 專案名稱
**租屋雷達 RentRadar** 🏠📡

*一眼看透全台租金行情，找房不踩雷*

### 專案標語
- **主標**: "找房不踩雷，租屋看雷達"
- **副標**: "全台租金行情一目了然，讓數據為你找好房"

### 專案目標
- 🎯 **解決痛點**: 租屋族不知道合理租金，容易被坑
- 📊 **提供價值**: 即時租金行情 + 區域比較 + 趨勢分析
- 🗺️ **視覺化**: 地圖熱力圖讓租金分布一目了然
- 👥 **群眾智慧**: 使用者可貢獻真實租金資訊

### 技術架構
- **後端**: PHP 8.3 + Laravel 12.x
- **前端**: HTML5 + CSS3 + JavaScript (ES6+)
- **地圖**: Leaflet.js
- **圖表**: Chart.js
- **資料庫**: MySQL 8.0
- **快取**: Redis
- **排程**: Laravel Task Scheduling

---

## 🎨 品牌定位與使用者體驗

### 目標使用者
1. **租屋新手** - 剛出社會不知道行情
2. **換房族** - 想知道其他區域租金
3. **精明租客** - 想用數據談判租金
4. **房東** - 想了解市場定價
5. **投資客** - 評估租金投報率

### 核心價值主張
- 🔍 **透明化**: 打破租金資訊不對稱
- ⚡ **即時性**: 每月更新最新行情
- 🎯 **精準性**: 區域化統計更貼近現實
- 🤝 **互助性**: 大家一起貢獻真實資料

### 使用者旅程
```
發現問題 → 搜尋租屋雷達 → 查看目標區域 → 比較不同區域 → 
獲得租金建議 → 貢獻自己資料 → 成為忠實用戶
```

---

## 🏗️ 系統架構設計

### 資料流程
```
政府開放資料 → 智慧清理 → 區域統計 → 雷達圖表 → 使用者決策
   ↓
使用者回報 → 真實性驗證 → 補強資料庫 → 提升準確度
```

### 核心模組
1. **雷達掃描模組** - 自動抓取政府資料
2. **智慧分析模組** - AI清理異常值 + 統計分析  
3. **地圖雷達模組** - Leaflet視覺化展示
4. **使用者互動模組** - 查詢、比較、貢獻
5. **管理駕駛艙** - 後台數據監控

---

## 📅 開發時程規劃

### Phase 1: 雷達基礎建設 (2週)
**Week 1-2**
- [ ] Laravel 12 專案初始化
- [ ] 資料庫架構設計
- [ ] 基礎 MVC 框架
- [ ] 政府開放資料 API 測試

### Phase 2: 智慧掃描引擎 (3週)
**Week 3-4**
- [ ] 自動資料下載系統
- [ ] AI異常值檢測演算法
- [ ] 區域統計計算引擎
- [ ] 定時掃描排程 (每月5,15,25日)

**Week 5**
- [ ] 資料品質控制機制
- [ ] Redis快取優化
- [ ] 單元測試完整覆蓋

### Phase 3: 視覺雷達系統 (2週)
**Week 6**
- [ ] Leaflet地圖整合
- [ ] 台灣行政區圖層
- [ ] 熱力圖渲染引擎

**Week 7**
- [ ] 互動式雷達介面
- [ ] 動態彈出視窗
- [ ] 多圖層切換功能

### Phase 4: 使用者體驗介面 (2週)
**Week 8**
- [ ] 響應式網頁設計
- [ ] 直覺式搜尋介面
- [ ] 租金趨勢圖表

**Week 9**
- [ ] 區域PK比較功能
- [ ] 使用者貢獻表單
- [ ] 智慧推薦系統

### Phase 5: 進階雷達功能 (2週)
**Week 10**
- [ ] 使用者資料驗證AI
- [ ] 管理駕駛艙介面
- [ ] 歷史資料回填

**Week 11**
- [ ] 效能調校優化
- [ ] SEO搜尋優化
- [ ] 錯誤監控系統

### Phase 6: 雷達校準與上線 (1週)
**Week 12**
- [ ] 全系統整合測試
- [ ] 使用者體驗測試
- [ ] 正式部署上線

---

## 🗄️ 資料庫設計

### 核心資料表

#### `radar_data` - 雷達原始資料
```sql
- id (Primary Key)
- source_id (來源資料ID)
- county (縣市)
- district (行政區)  
- address (地址)
- rent_price (租金)
- room_type (套房/雅房/整層/其他)
- area (坪數)
- floor (樓層)
- created_at, updated_at
- data_source (gov/user/manual)
- confidence_score (資料可信度 0-100)
```

#### `district_radar` - 區域雷達統計
```sql
- id (Primary Key)
- county (縣市)
- district (行政區)
- avg_rent (平均租金)
- median_rent (中位數租金)
- smart_price (智慧建議價格)
- min_rent, max_rent (價格區間)
- sample_count (樣本數)
- trend_direction (趨勢: up/down/stable)
- last_scan_at (最後掃描時間)
- lat, lng (區域中心座標)
- popularity_score (熱門度評分)
```

#### `user_reports` - 使用者回報
```sql
- id (Primary Key)
- session_id (匿名識別)
- county, district (縣市區域)
- rent_price (租金)
- room_type (房型)
- area (坪數)
- is_verified (是否驗證通過)
- confidence_level (可信度等級)
- created_at
- user_agent (瀏覽器資訊)
```

#### `scan_logs` - 掃描記錄
```sql
- id (Primary Key)
- scan_date (掃描日期)
- data_source (資料來源)
- records_found (發現記錄數)
- records_valid (有效記錄數)
- scan_status (success/failed/partial)
- execution_time (執行時間秒)
- created_at
```

---

## 🔧 核心功能規格

### 1. 智慧雷達掃描
```php
// Laravel Artisan指令
php artisan radar:scan

功能特色:
- 🕐 每月3次自動掃描 (5,15,25日)
- 🤖 AI異常值自動過濾
- 📊 即時統計計算更新
- 🗑️ 自動清理過期資料 (保留3年)
- 📱 掃描完成推播通知
```

### 2. 智慧價格分析
```php
// 多維度統計指標
- 平均租金 (Average Rent)
- 中位數租金 (Median Rent)  
- 智慧建議價 (AI Recommended Price)
- 價格信心區間 (95% Confidence Interval)
- 熱門度指數 (Popularity Index)
- 趨勢方向 (Trend Direction)
```

### 3. 視覺雷達地圖
```javascript
// Leaflet進階功能
- 🎨 漸層色彩熱力圖
- 📍 智慧標記聚合
- 💬 豐富資訊彈窗
- 🔄 平滑動畫轉場
- 📱 觸控手勢支援
- 🎯 定位目前位置
```

### 4. 使用者互動體驗
- **🔍 智慧搜尋**: 輸入區域快速定位
- **⚖️ 區域PK**: 最多3區域同時比較
- **📝 真實回報**: 貢獻真實租金資訊
- **🎯 個人化推薦**: 基於預算推薦區域
- **📈 趨勢追蹤**: 關注區域價格變化

---

## 📊 前端介面設計

### 主頁面佈局 - "雷達控制台"
```
┌─────────────────────────────────────────┐
│ 🏠 租屋雷達 | 找房不踩雷                  │
├─────────────────┬───────────────────────┤
│ 雷達控制面板     │ 主雷達螢幕              │
│ 🎯 快速搜尋      │ 🗺️ 互動式地圖          │
│ 📊 熱門區域      │ 🎨 租金熱力圖           │
│ ⚖️ 區域PK       │ 📍 智慧標記             │
│ 📈 價格趨勢      │ 💬 資訊彈窗             │
│ 📝 回報租金      │                       │
└─────────────────┴───────────────────────┘
│ 💡 最後掃描: 2025/09/25 | 📊 本月新增: 1,247筆 │
└─────────────────────────────────────────┘
```

### 響應式設計
- **💻 桌面版**: 雷達控制台 + 地圖並排
- **📱 平板版**: 可收合控制台
- **📱 手機版**: 全螢幕雷達 + 底部控制列

### 色彩設計主題
- **主色調**: 雷達綠 (#00FF88) + 深海藍 (#1E3A8A)
- **輔助色**: 警示橙 (#FF6B35) + 中性灰 (#6B7280)
- **背景**: 深色模式為主，科技感十足

---

## 🎯 關鍵技術實作

### 1. AI智慧資料處理
```php
class SmartDataProcessor
{
  public function processWithAI($rawData) {
      // 1. 格式標準化
      // 2. 異常值AI檢測
      // 3. 地址智慧解析
      // 4. 信心度評分
      // 5. 統計更新
      return $processedData;
  }
}
```

### 2. 雷達地圖引擎
```javascript
// 雷達地圖初始化
const radarMap = new RentRadar({
  container: 'radar-screen',
  center: [23.8, 120.9],
  zoom: 8,
  theme: 'dark-radar'
});

// 動態載入雷達資料
radarMap.loadRadarData('/api/radar-scan')
  .then(data => radarMap.renderHeatmap(data));
```

### 3. 效能優化策略
- **⚡ Redis快取**: 雷達資料快取30分鐘
- **📄 分頁載入**: API每頁限制100筆
- **🖼️ 圖片優化**: WebP格式 + 懶載入
- **🚀 CDN加速**: 靜態資源全球加速
- **💾 離線快取**: Service Worker支援

---

## 🔒 資料品質控制

### AI異常值檢測規則
1. **💰 價格合理性**: 3,000-150,000元區間
2. **📐 坪數邏輯性**: 2-80坪合理範圍
3. **📊 統計離群值**: 超出3個標準差
4. **🏠 房型一致性**: 與房型平均價差異<50%
5. **📍 地理合理性**: 與鄰近區域差異<100%

### 使用者資料驗證
- **🛡️ 防刷機制**: 每IP每日限制5筆
- **✅ 格式驗證**: 智慧表單驗證
- **🤖 機器人檢測**: reCAPTCHA整合
- **📊 交叉驗證**: 與現有資料比對

---

## 📈 成功指標 KPI

### 技術指標
- [ ] 🎯 雷達掃描成功率 > 98%
- [ ] ⚡ 頁面載入速度 < 2秒
- [ ] 🗺️ 地圖互動響應 < 0.5秒
- [ ] 🔧 系統穩定性 > 99.5%
- [ ] 📱 行動裝置相容性 100%

### 使用者指標
- [ ] 🌏 全台368鄉鎮市區覆蓋
- [ ] 📊 每月處理15萬+筆資料
- [ ] 👥 使用者貢獻資料 >10%
- [ ] 📈 提供5年歷史趨勢
- [ ] ⭐ 使用者滿意度 >4.5/5

---

## 🚀 未來擴展藍圖

### 2.0 進階雷達功能
- **🤖 AI租金預測**: 機器學習預測未來3個月趨勢
- **💼 投資雷達**: 租金投報率 + ROI計算
- **🚇 通勤雷達**: 整合交通資料的通勤成本分析
- **🎓 學區雷達**: 明星學校周邊租金溢價分析
- **🏪 生活機能雷達**: 便利商店、醫院密度影響分析

### 3.0 社群生態系統
- **👥 租屋社群**: 使用者評價 + 經驗分享
- **🏠 房東工具**: 定價建議 + 市場分析報告
- **📱 手機APP**: 原生應用程式
- **🔔 價格警報**: 目標區域降價通知
- **📊 專業報告**: 月度/季度市場分析報告

### 商業化潛力
- **💡 API服務**: 提供租金資料API給房仲業
- **📈 數據報告**: 房地產業者訂閱服務
- **🎯 精準廣告**: 房仲業者廣告投放平台
- **🏢 企業版**: HR部門員工住宿津貼參考

---

## 📝 開發注意事項

### 資料來源策略
- **🏛️ 主要來源**: 政府開放資料平台
- **👥 輔助來源**: 使用者真實回報
- **📚 歷史資料**: 手動補充近3年資料
- **🔄 更新頻率**: 每月3次自動更新

### 法規遵循
- **🔒 隱私保護**: 完全匿名化處理
- **📋 開放資料**: 遵守政府資料使用條款  
- **🛡️ 資安防護**: HTTPS + 資料加密
- **⚖️ 免責聲明**: 明確標示資料僅供參考

### 維護策略
- **💾 自動備份**: 每日資料庫備份
- **📊 效能監控**: 24/7系統監控
- **🚨 錯誤追蹤**: 即時錯誤通知
- **💬 使用者回饋**: 客服系統整合

---

## 🎖️ 專案亮點總結

### 技術創新
- ✨ **Laravel 12最新技術棧**
- 🤖 **AI驅動的資料清理**
- 🗺️ **沉浸式雷達地圖體驗**
- ⚡ **高效能快取架構**

### 商業價值
- 🎯 **解決真實用戶痛點**
- 📊 **數據驅動決策支援**
- 🌐 **全台市場覆蓋**
- 💡 **清晰商業化路徑**

### 使用者體驗
- 🎨 **直覺式雷達介面**
- 📱 **跨平台無縫體驗**
- 🔍 **智慧搜尋與推薦**
- 🤝 **社群協作機制**

---

**🚀 專案代號**: RentRadar  
**👨‍💻 首席開發**: 建文  
**⏰ 預計完成**: 12週  
**📅 最後更新**: 2025年9月26日

*"讓每個租屋族都能用數據找到好房子！"* 🏠✨